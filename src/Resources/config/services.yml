services:
    Happyr\Auth0Bundle\Factory\ConfigurationProvider:
        arguments:
            - ~ # config
            - ~ # cache
            - ~ # http client

    Happyr\Auth0Bundle\Factory\Auth0Factory:
        arguments: ['@Happyr\Auth0Bundle\Factory\ConfigurationProvider']

    Auth0\SDK\Auth0:
        factory: ['@Happyr\Auth0Bundle\Factory\Auth0Factory', 'auth0']
        lazy: true

    Auth0\SDK\API\Management:
        factory: ['@Happyr\Auth0Bundle\Factory\Auth0Factory', 'management']
        lazy: true

    Auth0\SDK\API\Authentication:
        factory: ['@Happyr\Auth0Bundle\Factory\Auth0Factory', 'authentication']
        lazy: true

    Happyr\Auth0Bundle\Security\Authentication\Auth0Authenticator:
        autowire: true
        autoconfigure: true

    Happyr\Auth0Bundle\Security\Auth0EntryPoint:
        arguments:
        - '@Symfony\Component\Security\Csrf\CsrfTokenManagerInterface'
        - '@Symfony\Component\Security\Http\HttpUtils'
        - ~ # Client id
        - ~ # Login domain
        - ~ # Scope
        - ~ # Callback route
